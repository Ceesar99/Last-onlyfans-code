import React, { useState, useEffect } from "react";
import { createRoot } from "react-dom/client";
import { BrowserRouter, Routes, Route } from "react-router-dom";
import ProtectedRoute from "./components/ProtectedRoute";
import ProfilePage from "./Pages/ProfilePage";
import MessagesPage from "./Pages/MessagesPage";
import { AuthProvider } from "./context/Authcontext";
import AdminLogin from "./Admin/AdminLogin.jsx";
import "./index.css";
import AdminLayout from "./Admin/AdminLayout.jsx";

// Splash Loader Component
function AppLoader() {
  const [loading, setLoading] = useState(true);
  const [showSplash, setShowSplash] = useState(true);

  useEffect(() => {
    // Splash animation: 2.5 seconds
    const splashTimer = setTimeout(() => {
      setShowSplash(false);
    }, 2500);

    // Full load: assume up to 5 seconds total, then hide
    const loadTimer = setTimeout(() => setLoading(false), 5000);

    return () => {
      clearTimeout(splashTimer);
      clearTimeout(loadTimer);
    };
  }, []);

  if (loading) {
    return (
      <div className="flex flex-col items-center justify-center h-screen bg-white">
        {showSplash ? (
          <div className="animate-breathe">
            {/* Animated Splash Logo - Your first SVG code */}
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
              width="100%" viewBox="0 0 720 1181" enable-background="new 0 0 720 1181" xmlSpace="preserve">
<path fill="#FFFFFF" opacity="1.000000" stroke="none" 
	d="
M711.013062,1182.000000 
	C474.010406,1182.000000 237.510803,1182.000000 1.008395,1182.000000 
	C1.005597,788.337708 1.005597,394.675446 1.002798,1.009874 
	C240.995224,1.006582 480.990448,1.006582 720.989258,1.003291 
	C720.992798,394.661224 720.992798,788.322449 720.992798,1182.000000 
	C717.838684,1182.000000 714.677429,1182.000000 711.013062,1182.000000 
M218.300201,647.479980 
	C216.803940,646.821350 215.252640,646.264282 213.820435,645.487549 
	C204.971939,640.689026 193.299042,641.665771 186.275009,647.845276 
	C177.830688,655.274292 175.167801,665.854065 179.117645,676.281738 
	C182.588989,685.446106 192.221130,691.590210 203.492828,691.597229 
	C211.450760,690.978088 217.480530,687.166199 222.309235,680.875977 
	C223.853271,678.864624 226.261200,677.024719 228.646591,676.241516 
	C236.364624,673.707397 241.738739,668.050110 242.217026,660.765137 
	C239.769272,660.765137 237.334091,660.765137 234.898911,660.765137 
	C242.133301,656.362244 248.508224,651.757324 250.990829,642.040222 
	C242.204941,642.442444 234.135635,642.507324 226.150162,643.358459 
	C223.678528,643.621948 221.434784,646.023376 218.300201,647.479980 
M316.692932,662.812378 
	C316.140839,660.381165 315.784271,657.884949 315.001068,655.530579 
	C312.353943,647.572876 305.680450,643.004944 296.643005,642.765137 
	C287.824646,642.531189 280.021057,646.761658 277.888702,654.711121 
	C276.213135,660.957703 275.404022,667.956238 276.385620,674.283142 
	C278.179871,685.847900 286.350830,691.457947 297.711304,690.776123 
	C308.242493,690.144104 315.426697,682.954773 316.587311,671.717468 
	C316.859955,669.077698 316.713959,666.394592 316.692932,662.812378 
M400.731750,680.648987 
	C403.375122,672.171387 406.018463,663.693848 408.695007,655.109863 
	C397.615082,653.637207 397.615631,653.637329 395.538055,663.627747 
	C395.368439,664.443420 395.222412,665.266479 395.001465,666.068542 
	C394.035553,669.574829 393.045990,673.074646 392.065002,676.576782 
	C391.576782,676.560425 391.088593,676.544006 390.600372,676.527588 
	C390.018127,674.919678 389.277313,673.349487 388.884033,671.696594 
	C387.804657,667.160583 387.025696,662.547119 385.783234,658.059692 
	C385.424042,656.762390 384.028442,655.008545 382.883667,654.819153 
	C380.050903,654.350342 377.088501,654.665222 373.659454,654.665222 
	C374.211456,656.491699 374.458618,657.420166 374.771027,658.326233 
	C378.432495,668.945312 382.188293,679.533691 385.642822,690.219482 
	C385.992188,691.300232 384.871490,693.339600 383.834137,694.256714 
	C382.667786,695.287842 380.864075,695.726990 379.262604,696.109741 
	C376.102112,696.865173 376.314728,699.292297 377.220215,701.153381 
	C377.887360,702.524536 380.067169,704.275879 381.283936,704.078247 
	C388.015228,702.985229 393.544250,699.677124 396.395630,693.181641 
	C398.060974,689.387817 399.145386,685.338928 400.731750,680.648987 
z"/>
<path fill="#108ECA" opacity="1.000000" stroke="none" 
	d="
M219.086700,647.445923 
	C221.434784,646.023376 223.678528,643.621948 226.150162,643.358459 
	C234.135635,642.507324 242.204941,642.442444 250.990829,642.040222 
	C248.508224,651.757324 242.133301,656.362244 234.898911,660.765137 
	C237.334091,660.765137 239.769272,660.765137 242.217026,660.765137 
	C241.738739,668.050110 236.364624,673.707397 228.646591,676.241516 
	C226.261200,677.024719 223.853271,678.864624 222.309235,680.875977 
	C217.480530,687.166199 211.450760,690.978088 202.970749,691.199463 
	C203.053528,688.673950 203.874298,686.580078 204.214386,684.410828 
	C204.771759,680.855469 205.016785,677.251221 205.645172,673.399292 
	C209.057373,670.402893 209.325745,666.889282 209.007965,663.060303 
	C210.307510,662.003601 211.420151,661.116028 212.090302,659.969666 
	C214.503128,655.842285 216.766724,651.627625 219.086700,647.445923 
z"/>
<path fill="#14AFE8" opacity="1.000000" stroke="none" 
	d="
M316.726746,663.271912 
	C316.713959,666.394592 316.859955,669.077698 316.587311,671.717468 
	C315.426697,682.954773 308.242493,690.144104 297.711304,690.776123 
	C286.350830,691.457947 278.179871,685.847900 276.385620,674.283142 
	C275.404022,667.956238 276.213135,660.957703 277.888702,654.711121 
	C280.021057,646.761658 287.824646,642.531189 296.643005,642.765137 
	C305.680450,643.004944 312.353943,647.572876 315.001068,655.530579 
	C315.784271,657.884949 316.140839,660.381165 316.726746,663.271912 
M297.977722,651.162170 
	C292.518494,650.299622 288.685669,652.978271 288.154846,657.973511 
	C287.966949,670.770630 287.485779,664.269653 288.686249,677.099731 
	C289.098145,680.724182 292.256042,682.717773 295.949860,682.774109 
	C299.827972,682.833313 303.356415,680.893127 303.740356,677.095886 
	C304.412964,670.443726 304.385101,663.643188 303.772491,656.985596 
	C303.587067,653.970581 300.504272,653.222168 297.977722,651.162170 
z"/>
<path fill="#0BAEEB" opacity="1.000000" stroke="none" 
	d="
M205.393524,673.667542 
	C205.016785,677.251221 204.771759,680.855469 204.214386,684.410828 
	C203.874298,686.580078 203.053528,688.673950 202.574554,691.063110 
	C192.221130,691.590210 182.588989,685.446106 179.117645,676.281738 
	C175.167801,665.854065 177.830688,655.274292 186.275009,647.845276 
	C193.299042,641.665771 204.971939,640.689026 213.820435,645.487549 
	C215.252640,646.264282 216.803940,646.821350 218.693451,647.462952 
	C216.766724,651.627625 214.503128,655.842285 212.090302,659.969666 
	C211.420151,661.116028 210.307510,662.003601 208.706329,662.901550 
	C207.235291,662.175354 206.511963,661.464050 205.666275,660.956543 
	C202.563507,659.095032 199.190048,659.182861 197.038300,661.890076 
	C195.615723,663.679993 194.862091,666.797607 195.268219,669.058716 
	C195.880630,672.468201 198.760925,674.156311 202.409195,673.939880 
	C203.405853,673.880798 204.398849,673.760071 205.393524,673.667542 
z"/>
<path fill="#14AFE8" opacity="1.000000" stroke="none" 
	d="
M400.611481,681.026917 
	C399.145386,685.338928 398.060974,689.387817 396.395630,693.181641 
	C393.544250,699.677124 388.015228,702.985229 381.283936,704.078247 
	C380.067169,704.275879 377.887360,702.524536 377.220215,701.153381 
	C376.314728,699.292297 376.102112,696.865173 379.262604,696.109741 
	C380.864075,695.726990 382.667786,695.287842 383.834137,694.256714 
	C384.871490,693.339600 385.992188,691.300232 385.642822,690.219482 
	C382.188293,679.533691 378.432495,668.945312 374.771027,658.326233 
	C374.458618,657.420166 374.211456,656.491699 373.659454,654.665222 
	C377.088501,654.665222 380.050903,654.350342 382.883667,654.819153 
	C384.028442,655.008545 385.424042,656.762390 385.783234,658.059692 
	C387.025696,662.547119 387.804657,667.160583 388.884033,671.696594 
	C389.277313,673.349487 390.018127,674.919678 390.600372,676.527588 
	C391.088593,676.544006 391.576782,676.560425 392.065002,676.576782 
	C393.045990,673.074646 394.035553,669.574829 395.001465,666.068542 
	C395.222412,665.266479 395.368439,664.443420 395.538055,663.627747 
	C397.615631,653.637329 397.615082,653.637207 408.695007,655.109863 
	C406.018463,663.693848 403.375122,672.171387 400.611481,681.026917 
z"/>
<path fill="#14AFE8" opacity="1.000000" stroke="none" 
	d="
M327.349182,690.091064 
	C322.909363,690.397095 321.824219,688.214966 321.887451,684.561584 
	C322.025543,676.581543 321.927582,668.597534 321.929749,660.615112 
	C321.931366,654.641724 325.112823,652.834656 330.768097,655.249390 
	C332.222229,655.870239 334.474915,655.987244 335.814819,655.288696 
	C344.927399,650.538025 352.439636,654.554443 352.785126,664.779968 
	C353.026459,671.922913 352.676880,679.085754 352.918396,686.228699 
	C353.046051,690.003601 350.979279,690.271790 348.216644,690.066040 
	C345.403259,689.856567 341.784088,690.985107 341.813263,686.105103 
	C341.849030,680.118591 341.902100,674.129761 341.771820,668.145813 
	C341.718933,665.715149 342.798584,662.084778 338.600525,662.199158 
	C334.953918,662.298462 333.035706,664.853882 333.001404,668.543579 
	C332.953461,673.697449 332.994324,678.852173 332.996643,684.006531 
	C332.997467,685.814453 332.996765,687.622375 332.996765,690.098450 
	C330.950836,690.098450 329.348816,690.098450 327.349182,690.091064 
z"/>
<path fill="#108ECA" opacity="1.000000" stroke="none" 
	d="
M441.665619,676.481262 
	C440.982788,669.247559 441.411469,662.729248 446.580322,657.485657 
	C450.535095,653.473816 455.511383,652.718140 460.743164,654.734253 
	C462.455566,655.394165 464.639618,654.828430 466.607971,654.826416 
	C468.724396,654.824280 470.840820,654.825928 473.521820,654.825928 
	C473.459015,668.661133 473.521820,661.900269 473.561249,675.419495 
	C473.590729,677.369751 473.485809,679.750854 474.506134,681.169495 
	C476.751984,684.292236 475.647461,687.095581 473.312866,688.396179 
	C471.589203,689.356506 468.618591,688.166443 466.229065,687.777893 
	C465.674683,687.687683 465.223938,686.960022 464.880829,686.661133 
	C462.000519,688.062805 459.380432,690.084717 456.491455,690.600464 
	C448.556335,692.016968 443.414795,687.008301 441.665619,676.481262 
M462.890564,676.969666 
	C462.893341,673.650146 462.829407,670.328918 462.918030,667.011658 
	C463.003540,663.809814 461.333069,661.391418 458.445831,661.631836 
	C456.575836,661.787598 453.783875,664.084900 453.378143,665.870911 
	C452.523865,669.630981 452.484100,673.761230 453.079712,677.588623 
	C453.384033,679.544128 455.509857,682.264893 457.293976,682.710144 
	C460.434296,683.493896 462.377106,681.068115 462.890564,676.969666 
z"/>
<path fill="#108ECA" opacity="1.000000" stroke="none" 
	d="
M485.766144,654.661621 
	C487.983002,655.343140 489.783661,656.020447 492.064636,656.878479 
	C492.699280,656.524231 493.839874,655.863708 495.001740,655.243042 
	C503.583191,650.657837 510.963684,654.767212 511.155914,664.396240 
	C511.321289,672.680969 511.190216,680.971558 511.190216,689.019897 
	C510.461853,689.409790 510.186493,689.669800 509.887299,689.700928 
	C500.988678,690.628540 500.974213,690.625061 500.891144,681.868469 
	C500.846924,677.209900 500.911987,672.549927 500.829498,667.892334 
	C500.783447,665.291809 501.090271,661.515564 497.442230,662.082336 
	C495.260925,662.421265 492.275116,665.494995 491.872070,667.738403 
	C491.002808,672.577148 491.563660,677.673279 491.545105,682.664124 
	C491.537201,684.797485 491.543793,686.930847 491.543793,689.352173 
	C490.216156,689.552490 489.286377,689.789734 488.350128,689.818665 
	C481.070679,690.043701 481.063263,690.031311 481.056854,682.554260 
	C481.049164,673.577332 481.054993,664.600342 481.054993,655.068176 
	C482.577423,654.922607 483.963684,654.790100 485.766144,654.661621 
z"/>
<path fill="#108ECA" opacity="1.000000" stroke="none" 
	d="
M362.258850,688.791260 
	C360.974213,685.308167 359.234253,682.078308 359.108093,678.786621 
	C358.726440,668.828613 358.965149,658.846680 358.972626,648.874023 
	C358.979370,639.895386 359.735199,639.239990 369.782837,640.030457 
	C369.877014,641.676086 370.058289,643.415283 370.062714,645.154968 
	C370.089172,655.625732 369.944244,666.099731 370.190247,676.564819 
	C370.236694,678.542603 371.774963,680.488708 372.639709,682.442810 
	C373.648315,684.721802 374.673187,686.993591 375.776459,689.459473 
	C370.612427,691.440125 366.506287,691.621277 362.258850,688.791260 
z"/>
<path fill="#FFFFFF" opacity="1.000000" stroke="none" 
	d="
M205.645172,673.399292 
	C205.016785,677.251221 204.771759,680.855469 204.214386,684.410828 
	C203.874298,686.580078 203.053528,688.673950 202.574554,691.063110 
	C192.221130,691.590210 182.588989,685.446106 179.117645,676.281738 
	C175.167801,665.854065 177.830688,655.274292 186.275009,647.845276 
	C193.299042,641.665771 204.971939,640.689026 213.820435,645.487549 
	C215.252640,646.264282 216.803940,646.821350 218.693451,647.462952 
	C216.766724,651.627625 214.503128,655.842285 212.090302,659.969666 
	C211.420151,661.116028 210.307510,662.003601 208.706329,662.901550 
	C207.235291,662.175354 206.511963,661.464050 205.666275,660.956543 
	C202.563507,659.095032 199.190048,659.182861 197.038300,661.890076 
	C195.615723,663.679993 194.862091,666.797607 195.268219,669.058716 
	C195.880630,672.468201 198.760925,674.156311 202.409195,673.939880 
	C203.405853,673.880798 204.398849,673.760071 205.645172,673.399292 
z"/>
<path fill="#FFFFFF" opacity="1.000000" stroke="none" 
	d="
M298.363159,651.256897 
	C300.504272,653.222168 303.587067,654.970581 303.772491,656.985596 
	C304.385101,663.643188 304.412964,670.443726 303.740356,677.095886 
	C303.356415,680.893127 299.827972,682.833313 295.949860,682.774109 
	C292.256042,682.717773 289.098145,680.724182 288.686249,677.099731 
	C287.966949,670.770630 287.485779,664.269653 288.154846,657.973511 
	C288.685669,652.978271 292.518494,650.299622 298.363159,651.256897 
z"/>
<path fill="#FFFFFF" opacity="1.000000" stroke="none" 
	d="
M462.882874,677.404175 
	C462.377106,681.068115 460.434296,683.493896 457.293976,682.710144 
	C455.509857,682.264893 453.384033,679.544128 453.079712,677.588623 
	C452.484100,673.761230 452.523865,669.630981 453.378143,665.870911 
	C453.783875,664.084900 456.575836,661.787598 458.445831,661.631836 
	C461.333069,661.391418 463.003540,663.809814 462.918030,667.011658 
	C462.829407,670.328918 462.893341,673.650146 462.882874,677.404175 
z"/>
</svg>
